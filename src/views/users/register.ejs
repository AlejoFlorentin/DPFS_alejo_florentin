<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head', { title: '| Registro', styles: 'register.css' }) %>
  <body>
    <%- include('../partials/header') %>

    <main>
      <div class="mt-4 d-flex flex-column justify-content-center align-items-center">
        <h1>Crear cuenta</h1>

        <form
          method="post"
          action="/usuarios/registro"
          class="mt-2 d-flex flex-column justify-content-center w-25"
          id="form"
          novalidate
          enctype="multipart/form-data"
        >
          <!-- Nombre -->
          <div>
            <label class="form-label" for="name">Nombre</label>
            <input
              class="form-control"
              type="text"
              id="name"
              name="name"
              required
              autocomplete="off"
            />
          </div>
          <div class="error text-danger" id="error-name">
            <%= typeof errors !== 'undefined' && errors.name ? 'Nombre inválido' : '' %>
          </div>

          <!-- Apellido -->
          <div class="mt-2">
            <label class="form-label" for="lastName">Apellido</label>
            <input
              class="form-control"
              type="text"
              id="last-name"
              name="last_name"
              required
              autocomplete="off"
            />
          </div>
          <div class="error text-danger" id="error-last-name">
            <%= typeof errors !== 'undefined' && errors.last_name ? 'Apellido inválido' : '' %>
          </div>

          <!-- Teléfono -->
          <div class="mt-2">
            <label class="form-label" for="phone">Teléfono</label>
            <input
              class="form-control"
              type="number"
              id="phone"
              name="phone"
              required
              autocomplete="off"
            />
          </div>
          <div class="error text-danger" id="error-phone">
            <%= typeof errors !== 'undefined' && errors.phone ? 'Teléfono inválido' : '' %>
          </div>

          <!-- Email -->
          <div class="mt-2">
            <label class="form-label" for="email">Email</label>
            <input
              class="form-control"
              type="email"
              id="email"
              name="email"
              required
              autocomplete="off"
            />
          </div>
          <div class="error text-danger" id="error-email">
            <%= typeof errors !== 'undefined' && errors.email ? 'Email ya registrado' : '' %>
          </div>

          <!-- Repetir Email -->
          <div class="mt-2">
            <label class="form-label" for="repeat-email">Repetir Email</label>
            <input
              class="form-control"
              type="email"
              id="repeat-email"
              name="repetir-email"
              required
              autocomplete="off"
            />
          </div>
          <div class="error text-danger" id="error-repeat-email"></div>

          <!-- Contraseña -->
          <div class="mt-2">
            <label class="form-label" for="password">Contraseña</label>
            <input
              class="form-control"
              type="password"
              id="password"
              name="password"
              required
              autocomplete="off"
            />
          </div>
          <div class="error text-danger" id="error-password">
            <%= typeof errors !== 'undefined' && errors.password ? 'Contraseña inválida' : '' %>
          </div>

          <!-- Repetir Contraseña -->
          <div class="mt-2">
            <label class="form-label" for="repeat-password">Confirmar contraseña</label>
            <input
              class="form-control"
              type="password"
              id="repeat-password"
              name="confirm-password"
              required
              autocomplete="off"
            />
          </div>
          <div class="error text-danger" id="error-repeat-password"></div>

          <!-- Imagen -->
          <div class="mt-2">
            <label class="form-label" for="image">Foto de perfil</label>
            <input
              class="form-control"
              type="file"
              id="image"
              name="image"
              accept="image/*"
              multiple
              required
            />
          </div>
          <div class="error text-danger" id="error-image">
            <%= typeof errors !== 'undefined' && errors.image ? "Formato de imagen inválido " : ''
            %>
          </div>
          <!-- Términos -->
          <div class="terms mt-2">
            <input type="checkbox" name="terms" id="terms" required />
            <label for="terms">Acepto Términos y condiciones</label>
          </div>
          <div class="error text-danger" id="error-terms"></div>

          <!-- Botón -->
          <button class="mt-2 btn btn-dark" type="submit">Registrate</button>

          <!-- Link a login -->
          <p class="mt-3 text-center">
            ¿Ya tenés cuenta? <a href="/usuarios/login">Iniciá Sesión</a>
          </p>
        </form>
      </div>
    </main>

    <%- include('../partials/footer') %> <%- include('../partials/wsp') %>
    <script src="/js/register.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
